<app-toolbar></app-toolbar>
<div class="spinner" *ngIf="spinner" fxLayout="row" fxLayoutAlign="center center" fxFill>
  <mat-progress-spinner [mode]="mode">
  </mat-progress-spinner>
</div>
<div class="web-height" style="position: relative; z-index: 2 !important;" fxLayout="row" fxLayoutAlign="start stretch">
  <div class="fullWidth"  fxLayout="column" fxLayoutAlign="center center">
    <mat-card class="padding10px" fxLayout="column" fxLayoutAlign="center center">
      <mat-card-content  class="fullWidth" fxLayout="column" fxLayoutAlign="center center">
        <form [formGroup]="bookingForm">
            <div fxLayout="column" fxLayoutAlign="center center">
                <h3 class="bold">Call, Email, WhatsApp us or write below</h3>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap=".5rem">
              <mat-icon>phone</mat-icon> <span><a style="text-decoration: none;" href="tel: +27 87 164 0193"> 087 164 0193</a> </span>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap=".5rem">
              <mat-icon>mail</mat-icon> <span><a style="text-decoration: none;" href="mailto:info@bevindatravels.co.za">info@bevindatravels.co.za</a> </span>
            </div>
            <div fxLayout="row" fxLayoutAlign="space-between center" fxLayout.xs="column" fxLayoutAlign.xs="start stretch">
              <div fxLayout="column" fxLayoutAlign="start stretch" fxFlex="47" fxFlex.xs="100">
                <mat-form-field appearance="legacy">
                    <mat-label>First Name</mat-label>
                    <input matInput formControlName="firstName" placeholder="First name" required>
                    <mat-error *ngIf="
                        bookingForm.get('firstName')?.touched &&
                        bookingForm.get('firstName').hasError('required')
                      "
                      >First name is required!
                    </mat-error>
                  </mat-form-field>
            </div>
            <div fxLayout="column" fxLayoutAlign="start stretch" fxFlex="47" fxFlex.xs="100">
                <mat-form-field appearance="legacy">
                    <mat-label>Last Name</mat-label>
                    <input matInput formControlName="lastName" placeholder="Last name" required>
                    <mat-error *ngIf="
                        bookingForm.get('lastName')?.touched &&
                        bookingForm.get('lastName').hasError('required')
                      "
                      >Last name is required!
                    </mat-error>
                  </mat-form-field>
            </div>
            </div>

            <div fxLayout="row" fxLayoutAlign="space-between center" fxLayout.xs="column" fxLayoutAlign.xs="start stretch">
              <div fxLayout="column" fxLayoutAlign="start stretch" fxFlex="47" fxFlex.xs="100">
                <mat-form-field appearance="legacy">
                  <mat-label>Phone</mat-label>
                  <input matInput formControlName="phone" placeholder="Phone" required>
                  <mat-error *ngIf="
                        bookingForm.get('phone')?.touched &&
                        bookingForm.get('phone').hasError('required')
                      "
                      >Phone is required!
                    </mat-error>
              </mat-form-field>
              </div>

              <div fxLayout="column" fxLayoutAlign="start stretch" fxFlex="47" fxFlex.xs="100">
                <mat-form-field appearance="legacy">
                  <mat-label>Email</mat-label>
                  <input matInput formControlName="email" placeholder="Email">
              </mat-form-field>
              </div>
            </div>

            <div fxLayout="row" fxLayoutAlign="start stretch">
              <mat-form-field class="fullWidth" appearance="legacy">
                <mat-label>Message</mat-label>
                <textarea formControlName="message" matInput placeholder="Message" required></textarea>
                <mat-error *ngIf="
                bookingForm.get('message')?.touched &&
                bookingForm.get('message').hasError('required')
              "
              >Message is required!
            </mat-error>
              </mat-form-field>
            </div>
            <small class="bold" *ngIf="showMessage">Message Submitted, An Agent will Contact You Soon!</small>
            <div fxLayout="row" fxLayoutAlign="start stretch" fxLayoutGap="10px">
                <button [disabled]="!bookingForm.valid" [mat-dialog-close]="bookingForm.value" (click)="sendEmail(bookingForm)" class="greenBackground whiteColor" mat-raised-button>Send Message</button>
            </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>
